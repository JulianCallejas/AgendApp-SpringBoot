<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous" />
        <!-- JavaScript Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
        <link rel="stylesheet" href="/css/agregar.css" />
        <title>Nuevo Usuario</title>
    </head>
    <body>
        <div class="contenedor">
            <div class="caja-descripcion">
                <form class="col-s12" th:action="@{/new-user}" method="post">
                    <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
                    <div class="textarea-descripcion">
                        <h4 style="align-content:center;">Crea usuario</h4>

                        <div th:if="${mensaje} != null">
                            <!-- Mensajes de resultado -->
                            <div th:if="${resultado} != 'exito'">
                                <div class="collapse show" id="mensaje">
                                    <div style="max-width: 500px;  margin-left: 32%; text-align: left;">
                                        <div class="card border-danger">
                                            <div class="card-header bg-danger" style="--bs-bg-opacity: .2;">
                                                <button type="button" class="btn-close" data-bs-toggle="collapse" data-bs-target="#mensaje" aria-expanded="false" aria-controls="mensaje"></button>
                                                <b>Error</b>
                                            </div>
                                            <div class="card-body bg-danger" style="--bs-bg-opacity: .1;">
                                                <h5 class="card-title" th:text="${mensaje}">{{ message }}</h5>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div th:if="${resultado} == 'exito'">
                                <div class="collapse show " id="mensaje">
                                    <div style="max-width: 500px;  margin-left: 32%; text-align: left;">
                                        <div class="card border-success" >
                                            <div class="card-header bg-success" style="--bs-bg-opacity: .2;">
                                                <button type="button" class="btn-close" data-bs-toggle="collapse" data-bs-target="#mensaje" aria-expanded="false" aria-controls="mensaje"></button>
                                                <b>Guardado</b>
                                            </div>
                                            <div class="card-body bg-success" style="--bs-bg-opacity: .1;">
                                                <h5 class="card-title" th:text="${mensaje}">{{ message }}</h5>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- FIN Mensajes de resultado -->
                        </div>
                    </div>
                    <div class="textarea-descripcion">
                        <div class="textarea-usuario">

                            <ul>
                                <li>
                                    <input id="fusuario" th:name="fusuario" type="text" placeholder="**Usuario" style="color: #000 !important; max-width: 25%" required="required" />
                                </li>
                                <li>
                                    <input  id="fcontrasena" th:name="fcontrasena" type="password" placeholder="Contraseña" minlength="4" maxlength="50" style="max-width: 25%" required="required" />
                                </li>
                                <li>
                                    <input id="fcontrasena2" th:name="fcontrasena2" type="password" placeholder="Repita Contraseña" minlength="4" maxlength="50" style="max-width: 25%" required="required" />
                                </li>
                                <li>
                                    <input  id="femail" th:name="femail" type="email" class="validate" placeholder="**Email" maxlength="45" style="max-width: 25%" required="required" />
                                </li>
                                <li>
                                    <input id="fnumeroid" th:name="fnumeroid" type="text" placeholder="**Numero de identificacion" maxlength="12" style="max-width: 25%" required="required" />
                                </li>
                                <li>
                                    <input id="fnombre" th:name="fnombre" type="text" placeholder="Nombres" maxlength="45" style="max-width: 25%" />
                                </li>
                                <li>
                                    <input id="fapellido" th:name="fapellido" type="text" placeholder="Apellidos" maxlength="45" style="max-width: 25%" />
                                </li>
                                <li>
                                    <input id="fcargo" th:name="fcargo" type="text" placeholder="Cargo" maxlength="45" style="max-width: 25%" />
                                </li>
                            </ul>
                            <p>**Campos obligatorios</p>
                        </div>
                    </div>
                    <button class="waves-effect waves-light btn-large color-back" type="submit">Guardar</button>
                    <a class="waves-effect waves-light btn-large color-back" href="/inicio">Regresar</a>
                </form>
            </div>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    </body>
</html>